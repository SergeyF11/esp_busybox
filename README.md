# Простая библиотека для отладки скетчей на esp32

Поддерживает работу с различными файловыми системами:
*   **LittleFS** (используется по умолчанию)
*   **SPIFFS** (не тестировано) 
*   **FATFS** (не тестировано) 

## Настройка файловой системы

Выбор типа файловой системы осуществляется в основном скетче **ПЕРЕД** подключением библиотеки с помощью директив препроцессора.

```cpp
#define BUSYBOX_USE_FATFS
```
или
```cpp
#define BUSYBOX_USE_SPIFFS
```

Если ни одна из переменных не объявлена — используется **LittleFS**.  
возможно автоматическое определение файловой системы при объявлении заголовочного файла файловой системы **ПЕРЕД** подключением библиотеки.  
```cpp
#include <FFat.h>  
#include <Busybox.h>
```

## Обертки для работы с файловой системой

* `Busybox::begin(FORMAT=false)` — инициализация ФС.
* `Busybox::format()` — форматирование ФС.

## Вывод системной информации и состояния ФС

* `Busybox::sysinfo()` — вывод системной информации.
* `Busybox::df()` — вывод информации о свободном/использованном месте (аналог `df` в Unix).
* `Busybox::stat(FILE)` — информация о файле.
* `Busybox::stat(DIR)` — информация о директории.
* `Busybox::ls(PATH="/")` — список содержимого директории.
* `Busybox::tree(PATH="/", DEPTH=0, INDENT=0)` — вывод дерева каталогов.

## Просмотр содержимого файлов

* `Busybox::cat(FILE)` — вывод содержимого файла в виде текста.
* `Busybox::dump(FILE)` — дамп файла в hex-формате.
* `Busybox::view(FILE)` — аналог `view` в NC (dump + текстовое представление).

## Операции с файлами

* `Busybox::cp(SRC, DEST)` — копирование файла.
* `Busybox::mv(SRC, DEST)` — перемещение/переименование файла.
* `Busybox::rm(FILE, .....)` — удаление одного или нескольких файлов.
* `Busybox::write(FILE, TEXT)` — запись текста в файл (с перезаписью).
* `Busybox::append(FILE, TEXT)` — добавление текста в конец файла.

## Операции с директориями

* `Busybox::mkdir(DIR)` — создание директории.
* `Busybox::rmdir(DIR, FORCE=false)` — удаление директории (если `FORCE=false`, то только пустой).
* `Busybox::rmrf(DIR)` — рекурсивное удаление директории и всего её содержимого.
